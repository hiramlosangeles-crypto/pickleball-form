<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reserve Your Spot - I Wanna Play Pickleball</title>
    
    <!-- ‚úÖ OPEN GRAPH META TAGS - For beautiful link previews in iMessage, WhatsApp, etc. -->
    <meta property="og:title" content="Reserve Your Spot - I Wanna Play Pickleball">
    <meta property="og:description" content="Join us for Sunday pickleball games at Plummer Park! Sign up now to secure your spot and connect with players.">
    <meta property="og:image" content="https://hiramlosangeles-crypto.github.io/pickleball-form/og-image-banner.jpg">
    <meta property="og:url" content="https://hiramlosangeles-crypto.github.io/pickleball-form/">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="I Wanna Play Pickleball">
    
    <!-- ‚úÖ TWITTER CARD META TAGS - For Twitter/X link previews -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Reserve Your Spot - I Wanna Play Pickleball">
    <meta name="twitter:description" content="Join us for Sunday pickleball games at Plummer Park!">
    <meta name="twitter:image" content="https://hiramlosangeles-crypto.github.io/pickleball-form/og-image-banner.jpg">
    
    <!-- ‚úÖ FAVICON - Shows in browser tab and bookmarks -->
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="180x180" href="favicon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    
    <link rel="stylesheet" href="style_jan25_sunset.css?v=1004">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Hero Banner (Desktop Only) -->
    <div class="hero-banner">
        <img src="banner.jpg" alt="Pickleball players in action" class="hero-image">
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Logo -->
        <div class="logo-container">
            <img src="logo.png" alt="I Wanna Play Pickleball" class="logo">
        </div>

        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-bar" id="progressBar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <!-- ‚úÖ FIX #6: Removed "Step 1 of 2" from initial state -->
            <div class="progress-text" id="progressText"></div>
        </div>

        <!-- Form -->
        <form id="pickleballForm">

            <!-- ========================================
             STEP 0: DATE PICKER
             ‚úÖ FIX #6: Removed "Step 1 of 2" from header
             ‚úÖ FIX #7: Removed redundant "Which Sunday..." copy
             ======================================== -->
            <div class="form-step active" id="step0">
                <div class="step-header">
                    <div class="step-icon">
                        <img src="calendar-icon.png" alt="Calendar" style="width: 80px; height: 80px;">
                    </div>
                    <h2>Pick Your Game Date</h2>
                    <!-- ‚úÖ FIX #7: Single instructional copy only -->
                    <p class="step-subtitle">Select which Sunday you'd like to play. We'll show you the next three available games!</p>
                </div>

                <div class="form-group">
                    <label style="display: none;">Select a date</label>
                    <div class="date-choice" id="dateChoiceContainer">
                        <!-- Dates will be loaded dynamically from Google Apps Script -->
                        <div class="loading-dates">
                            <div class="spinner"></div>
                            <p>Loading available game dates...</p>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button type="button" class="btn btn-primary" onclick="goToStep1FromDatePicker()" id="datePickerContinue" disabled>
                        Continue to Step 1 ‚Üí
                    </button>
                </div>
            </div>

            <!-- ========================================
             STEP 1: SUNDAY SIGNUP
             ‚úÖ Step indicator now reads "Step 1 of 3"
             ======================================== -->
            <div class="form-step" id="step1">
                <div class="step-header">
                    <div class="step-icon">‚úì</div>
                    <h2>Reserve Your Spot</h2>
                    <p class="step-subtitle">Sign up for this Sunday's Pickleball! Steven will organize the games and match you with players.</p>
                </div>

                <!-- PLAYER COUNT SELECTION -->
                <div class="form-group">
                    <label>How many people are you signing up for? *</label>
                    <div style="display: flex; gap: 12px; margin-top: 12px;">
                        <label class="player-count-option" style="flex: 1; background: rgba(155, 81, 224, 0.1); border: 2px solid #9B51E0; border-radius: 12px; padding: 16px; text-align: center; cursor: pointer; transition: all 0.2s;">
                            <input type="radio" name="playerCount" value="1" id="playerCount1" style="margin-right: 8px;" required>
                            <span style="font-size: 16px; font-weight: 700; color: #D946EF;">1 Person</span>
                        </label>
                        <label class="player-count-option" style="flex: 1; background: rgba(155, 81, 224, 0.1); border: 2px solid #9B51E0; border-radius: 12px; padding: 16px; text-align: center; cursor: pointer; transition: all 0.2s;">
                            <input type="radio" name="playerCount" value="2" id="playerCount2" style="margin-right: 8px;" required>
                            <span style="font-size: 16px; font-weight: 700; color: #D946EF;">2 People</span>
                        </label>
                    </div>
                </div>

                <!-- NAME FIELDS - DYNAMIC BASED ON PLAYER COUNT -->
                <div id="nameFieldsContainer">
                    <!-- Will be populated by JavaScript based on player count selection -->
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <!-- ‚úÖ FIX #8: Phone formatting now applied via JavaScript -->
                        <label for="phone">Phone Number *</label>
                        <input 
                            type="tel" 
                            id="phone" 
                            name="phone" 
                            placeholder="(XXX) XXX-XXXX"
                            required
                        >
                    </div>

                    <div class="form-group">
                        <label for="email">Email Address *</label>
                        <input 
                            type="email" 
                            id="email" 
                            name="email" 
                            placeholder="your@email.com"
                            required
                        >
                    </div>
                </div>

                <!-- ========================================
                 PAYMENT SECTION
                 ======================================== -->
                <div class="form-group">
                    <label>
                        Payment Required to Reserve Spot * 
                    </label>
                    
                    <!-- Pricing Display -->
                    <div style="background: linear-gradient(135deg, rgba(155, 81, 224, 0.15), rgba(0, 217, 255, 0.15)); border-left: 4px solid #00D9FF; padding: 16px; border-radius: 8px; margin-bottom: 16px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                            <div>
                                <p style="margin: 0; font-size: 15px; color: #fff; font-weight: 600;">üí∞ Pricing</p>
                                <p style="margin: 6px 0 0 0; font-size: 14px; color: #e0e0e0;">
                                    <strong style="color: #FFE500;">$10 ‚Äî PER PERSON (2 hours)</strong>
                                </p>
                            </div>
                            <button type="button" onclick="toggleDonationInfo()" style="background: rgba(255, 229, 0, 0.2); border: 2px solid #FFE500; color: #FFE500; padding: 8px 16px; border-radius: 8px; font-size: 13px; font-weight: 700; cursor: pointer; white-space: nowrap;">
                                ‚ÑπÔ∏è Why $10?
                            </button>
                        </div>
                    </div>
                    
                    <!-- Donation Info Tooltip -->
                    <div id="donationInfo" class="donation-info" style="display: none;">
                        <div class="donation-info-content">
                            <h4>üí° Payment Details</h4>
                            <p><strong>$10 ‚Äî PER PERSON (2 hours)</strong></p>
                            <p>Your $10 helps cover court time, reservations, and coordination (signups and reminders).</p>
                        </div>
                    </div>
                    
                    <p class="field-description" style="margin-top: 8px; margin-bottom: 16px; font-size: 14px; color: #FF6B00; font-weight: 700;">
                        ‚ö†Ô∏è IMPORTANT: Your spot is <strong>PENDING</strong> until payment is verified. Pay within 24 hours to secure your reservation.
                    </p>
                    
                    <!-- Payment Method Selection -->
                    <div class="radio-group">
                        <label class="radio-card">
                            <input type="radio" name="paymentMethod" value="Venmo" required onclick="showVenmoPayment()">
                            <div class="radio-content">
                                <span class="radio-icon">üí≥</span>
                                <span class="radio-label">Venmo</span>
                            </div>
                        </label>
                        
                        <label class="radio-card">
                            <input type="radio" name="paymentMethod" value="Zelle" required onclick="showZellePayment()">
                            <div class="radio-content">
                                <span class="radio-icon">üè¶</span>
                                <span class="radio-label">Zelle</span>
                            </div>
                        </label>
                        
                        <label class="radio-card">
                            <input type="radio" name="paymentMethod" value="Cash (In Person)" required onclick="showCashPayment()">
                            <div class="radio-content">
                                <span class="radio-icon">üíµ</span>
                                <span class="radio-label">Cash</span>
                            </div>
                        </label>
                    </div>
                    
                    <!-- Payment Instructions (Appears after selection) -->
                    <div id="paymentInstructions" class="payment-instructions" style="display: none; margin-top: 24px;">
                        <div id="paymentDetails"></div>
                    </div>
                </div>

                <div class="button-group">
                    <button type="button" class="btn btn-primary" onclick="goToStep2()">
                        Continue to Step 2 ‚Üí
                    </button>
                </div>
            </div>

            <!-- ========================================
             STEP 2: PRIORITY ALERTS
             New simplified design with single card + checkbox
             ======================================== -->
            <div class="form-step" id="step2">
                <div class="step-header vip">
                    <div class="step-icon">‚≠ê</div>
                    <h2>Enroll me in Priority Alerts (Free)</h2>
                    <p class="step-subtitle">Get matched with players for games beyond just Sunday. Build your pickleball community!</p>
                </div>

                <!-- Priority Alerts Explanation -->
                <div style="background: rgba(0, 255, 163, 0.1); 
                            border-left: 4px solid #00FFA3; 
                            padding: 20px; 
                            border-radius: 12px; 
                            margin-bottom: 24px;">
                    <h3 style="margin: 0 0 12px 0; color: #00FFA3; font-size: 18px; font-weight: 800;">
                        ‚ú® What are Priority Alerts?
                    </h3>
                    <p style="margin: 0 0 12px 0; color: rgba(255, 255, 255, 0.9); font-size: 15px; line-height: 1.6;">
                        Priority Alerts are <strong>free and optional</strong>. If you opt in, you'll get notified when extra weekly games open up (beyond Sunday).
                    </p>
                    <p style="margin: 0; color: rgba(255, 255, 255, 0.8); font-size: 14px; line-height: 1.5;">
                        üí° This does not change the Sunday game price. You still pay $10 per person, but you get first access to new games and personalized invites.
                    </p>
                </div>

                <!-- SINGLE CARD with Dynamic Pricing + Checkbox -->
                <div class="form-group">
                    <div class="priority-alerts-card" style="background: rgba(155, 81, 224, 0.1); 
                                                              border: 2px solid #9B51E0; 
                                                              border-radius: 16px; 
                                                              padding: 24px; 
                                                              margin-bottom: 20px;">
                        <!-- Dynamic Price Display -->
                        <div id="sundayGamePrice" style="text-align: center; margin-bottom: 20px;">
                            <h3 style="margin: 0 0 8px 0; color: #D946EF; font-size: 22px; font-weight: 800;">
                                $10 Sunday Game for 1 person
                            </h3>
                            <p style="margin: 0; color: rgba(255, 255, 255, 0.7); font-size: 14px;">
                                Full 2-hour game ‚Ä¢ 7:00 ‚Äì 9:00 PM
                            </p>
                        </div>

                        <!-- Priority Alerts Checkbox -->
                        <div style="background: rgba(0, 255, 163, 0.08); 
                                    border: 2px solid #00FFA3; 
                                    border-radius: 12px; 
                                    padding: 18px; 
                                    cursor: pointer;"
                             onclick="document.getElementById('priorityAlertsCheckbox').click()">
                            <label style="display: flex; align-items: center; gap: 12px; cursor: pointer; margin: 0;">
                                <input type="checkbox" 
                                       id="priorityAlertsCheckbox" 
                                       name="priorityAlerts" 
                                       value="yes"
                                       style="width: 20px; height: 20px; cursor: pointer; margin: 0;">
                                <span style="color: #00FFA3; font-size: 16px; font-weight: 700; flex: 1;">
                                    ‚úÖ Also enroll me in Priority Alerts (Free)
                                </span>
                            </label>
                            <p style="margin: 10px 0 0 32px; color: rgba(255, 255, 255, 0.7); font-size: 13px; line-height: 1.5;">
                                Get notified about extra games throughout the week. No commitment, unsubscribe anytime.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Priority Alerts Details (Shown if checkbox is checked) -->
                <div id="priorityAlertsDetails" style="display: none;">
                    <div class="form-group">
                        <label for="homeCourt">Home Court / City *</label>
                        <input 
                            type="text" 
                            id="homeCourt" 
                            name="homeCourt" 
                            placeholder="e.g., Plummer Park or West Hollywood"
                        >
                    </div>

                    <div class="form-group">
                        <label>Skill Level *</label>
                        <div class="radio-group">
                            <label class="radio-card">
                                <input type="radio" name="skillLevel" value="Social">
                                <div class="radio-content">
                                    <span class="radio-label">Social</span>
                                </div>
                            </label>
                            <label class="radio-card">
                                <input type="radio" name="skillLevel" value="Beginner">
                                <div class="radio-content">
                                    <span class="radio-label">Beginner</span>
                                </div>
                            </label>
                            <label class="radio-card">
                                <input type="radio" name="skillLevel" value="Intermediate">
                                <div class="radio-content">
                                    <span class="radio-label">Intermediate</span>
                                </div>
                            </label>
                            <label class="radio-card">
                                <input type="radio" name="skillLevel" value="Advanced">
                                <div class="radio-content">
                                    <span class="radio-label">Advanced</span>
                                </div>
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Best Days to Play *</label>
                        <div class="checkbox-group-small">
                            <label class="checkbox-small">
                                <input type="checkbox" name="bestDays" value="Monday">
                                <span>Mon</span>
                            </label>
                            <label class="checkbox-small">
                                <input type="checkbox" name="bestDays" value="Tuesday">
                                <span>Tue</span>
                            </label>
                            <label class="checkbox-small">
                                <input type="checkbox" name="bestDays" value="Wednesday">
                                <span>Wed</span>
                            </label>
                            <label class="checkbox-small">
                                <input type="checkbox" name="bestDays" value="Thursday">
                                <span>Thu</span>
                            </label>
                            <label class="checkbox-small">
                                <input type="checkbox" name="bestDays" value="Friday">
                                <span>Fri</span>
                            </label>
                            <label class="checkbox-small">
                                <input type="checkbox" name="bestDays" value="Saturday">
                                <span>Sat</span>
                            </label>
                            <label class="checkbox-small">
                                <input type="checkbox" name="bestDays" value="Sunday">
                                <span>Sun</span>
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Best Times to Play *</label>
                        <div class="checkbox-group-small">
                            <label class="checkbox-small">
                                <input type="checkbox" name="bestTimes" value="Morning">
                                <span>Morning</span>
                            </label>
                            <label class="checkbox-small">
                                <input type="checkbox" name="bestTimes" value="Afternoon">
                                <span>Afternoon</span>
                            </label>
                            <label class="checkbox-small">
                                <input type="checkbox" name="bestTimes" value="Evening">
                                <span>Evening</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button type="button" class="btn btn-secondary" onclick="goToStep1()">
                        ‚Üê Back
                    </button>
                    <button type="submit" class="btn btn-primary" id="submitBtn">
                        Complete Signup üéâ
                    </button>
                </div>
            </div>
             STEP 3: CONFIRMATION
             ‚úÖ FIX #5: Enhanced email confirmation emphasis
             ‚úÖ FIX #1: Fixed website link to iwannaplaypickleball.com
             ======================================== -->
            <div class="form-step" id="confirmation" style="display: none;">
                <div class="confirmation-content">
                    <div class="confirmation-icon">üéâ</div>
                    <h2>You're All Set!</h2>
                    <p class="confirmation-message" id="confirmationMessage"></p>
                    <div class="confirmation-details" id="confirmationDetails"></div>
                    <!-- ‚úÖ FIX #1: Updated link to new domain -->
                    <a href="https://iwannaplaypickleball.com/warmup" class="btn btn-primary" style="display: inline-flex; align-items: center; gap: 10px;">
                        Remember to Warm-Up 
                        <svg width="24" height="24" viewBox="0 0 100 100" style="filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));">
                            <defs>
                                <radialGradient id="pickleballGradient">
                                    <stop offset="0%" style="stop-color:#E8FF00"/>
                                    <stop offset="50%" style="stop-color:#C8E600"/>
                                    <stop offset="100%" style="stop-color:#9ACD32"/>
                                </radialGradient>
                            </defs>
                            <circle cx="50" cy="50" r="45" fill="url(#pickleballGradient)"/>
                            <circle cx="30" cy="30" r="6" fill="rgba(0,0,0,0.25)"/>
                            <circle cx="50" cy="30" r="6" fill="rgba(0,0,0,0.25)"/>
                            <circle cx="70" cy="30" r="6" fill="rgba(0,0,0,0.25)"/>
                            <circle cx="30" cy="50" r="6" fill="rgba(0,0,0,0.25)"/>
                            <circle cx="50" cy="50" r="6" fill="rgba(0,0,0,0.25)"/>
                            <circle cx="70" cy="50" r="6" fill="rgba(0,0,0,0.25)"/>
                            <circle cx="30" cy="70" r="6" fill="rgba(0,0,0,0.25)"/>
                            <circle cx="50" cy="70" r="6" fill="rgba(0,0,0,0.25)"/>
                            <circle cx="70" cy="70" r="6" fill="rgba(0,0,0,0.25)"/>
                        </svg>
                    </a>
                </div>
            </div>

        </form>
    </div>

    <!-- ========================================
     LOADING OVERLAY
     ‚úÖ FIX #4: Loading spinner properly shows/hides
     ======================================== -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <p>Submitting your signup...</p>
    </div>

    <script src="script.js"></script>
</body>
</html>
